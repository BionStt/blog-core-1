<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <link rel="shortcut icon" type="image/png" href="http://127.0.0.1:4000/images/favicon.png" /> <link rel="shortcut icon" href="http://127.0.0.1:4000/images/favicon.ico" /> <link rel="stylesheet" type="text/css" href="http://127.0.0.1:4000/assets/css/main.css"> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="logo.svg"> <meta name="twitter:title" content="How to get all the tags for a WordPress Category ?"> <meta name="twitter:description" content="For various reasons, one might want to get all the categories that are assigned for the posts in a certain category. In this post, you will get to know a code snippet that will do just that"> <meta name="twitter:site" content="@username"> <meta name="twitter:creator" content="@username"> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="How to get all the tags for a WordPress Category ?"> <meta property="og:description" content="For various reasons, one might want to get all the categories that are assigned for the posts in a certain category. In this post, you will get to know a code snippet that will do just that"> <meta property="og:url" content="http://127.0.0.1:4000/how-to-get-all-the-tags-for-a-wordpress-category/"> <meta property="og:site_name" content="Ahmad Assaf's Blog"> <meta property="og:image" content="http://127.0.0.1:4000/images/logo.svg"> <link rel="canonical" href="http://127.0.0.1:4000/how-to-get-all-the-tags-for-a-wordpress-category/"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>How to get all the tags for a WordPress Category ? &#8211; Ahmad Assaf's Blog</title> <meta name="description" content="For various reasons, one might want to get all the categories that are assigned for the posts in a certain category. In this post, you will get to know a code snippet that will do just that"> <meta name="keywords" content="Wordpress, PHP"> <link type="application/atom+xml" rel="alternate" href="http://127.0.0.1:4000/feed.xml" title="Ahmad Assaf's Blog" /> </head> <body> <div class="fixed-sidebar"></div> <div class="shapes"> </div> <div class="navigation-bar post-navigation "> <ul class="icon-navigation"> <li class="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></li> <li><i class="fa fa-search" aria-hidden="true"></i></li> </ul> <ul class="categories-list"> <div class="geometry geometry-menu"></div> <li class="current" ><a href="http://127.0.0.1:4000/web-development">web development</a></li> <li ><a href="http://127.0.0.1:4000/Semantic-Web">Semantic Web</a></li> <li ><a href="http://127.0.0.1:4000/projects">projects</a></li> <li ><a href="http://127.0.0.1:4000/Data-Science">Data Science</a></li> <li ><a href="http://127.0.0.1:4000/general">general</a></li> </ul> </div> <div class="content"> <div class="post-header"> <a href="http://127.0.0.1:4000" class="logo"><img src="http://127.0.0.1:4000/images/logo.svg"></a> <div class="post-title-section"> <div class="section-line"><a class="category capitalize" href="http://127.0.0.1:4000/web-development">web development</a><em>/</em></div> <h1 class="section-title">How to get all the tags for a WordPress Category ? </h1> <h2 class="section-subtitle"></h2> <div class="date">October 11 2013</div> <ul class="tags"> <li><a href="http://127.0.0.1:4000/Wordpress">Wordpress</a></li> <li><a href="http://127.0.0.1:4000/PHP">PHP</a></li> </ul> <div class="share-buttons"> <a target="_blank" href="https://twitter.com/intent/tweet?text=http://127.0.0.1:4000/how-to-get-all-the-tags-for-a-wordpress-category/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:4000/how-to-get-all-the-tags-for-a-wordpress-category/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a target="_blank" href="https://plus.google.com/share?url=http://127.0.0.1:4000/how-to-get-all-the-tags-for-a-wordpress-category/" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> </div> <div class="section-line reverse"><a href="http://127.0.0.1:4000/blog">Back to posts</a> <em>/</em></div> </div> </div> <div class="blog-post"> <blockquote> <p>For various reasons, one might want to get all the categories that are assigned for the posts in a certain category. In this post, you will get to know a code snippet that will do just that</p> </blockquote> <p>For various reasons, one might want to get all the categories that are assigned for the posts in a certain category. This snippet below will allow to do just that. What i did is simply putting that in the <code class="highlighter-rouge">functions</code> and then you get to call that function anywhere in the code. The parameter that you need to pass is the category ID. Please note that the table names that you have may have different prefix, the default is the <code class="highlighter-rouge">wp_</code> and that we pull in the tags from <code class="highlighter-rouge">published</code> posts only. You can change that by changing the post status parameter. This code retrieves the tags based on the number of their occurrences in the posts in <strong>DESCENDING</strong> order. You can change that as well by changing the order to <code class="highlighter-rouge">ASC</code></p> <div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span>
    <span class="k">function</span> <span class="nf">get_category_tags</span><span class="p">(</span><span class="nv">$args</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">global</span> <span class="nv">$wpdb</span><span class="p">;</span>
        <span class="nv">$tags</span> <span class="o">=</span> <span class="nv">$wpdb</span><span class="o">-&gt;</span><span class="na">get_results</span>
        <span class="p">(</span><span class="s2">"
            SELECT DISTINCT terms2.term_id as tag_id, terms2.name as tag_name, t2.count as posts_with_tag
            FROM
            wp_posts as p1
            LEFT JOIN wp_term_relationships as r1 ON p1.ID = r1.object_ID
            LEFT JOIN wp_term_taxonomy as t1 ON r1.term_taxonomy_id = t1.term_taxonomy_id
            LEFT JOIN wp_terms as terms1 ON t1.term_id = terms1.term_id,

            wp_posts as p2
            LEFT JOIN wp_term_relationships as r2 ON p2.ID = r2.object_ID
            LEFT JOIN wp_term_taxonomy as t2 ON r2.term_taxonomy_id = t2.term_taxonomy_id
            LEFT JOIN wp_terms as terms2 ON t2.term_id = terms2.term_id
            WHERE
            t1.taxonomy = 'category' AND p1.post_status = 'publish' AND terms1.term_id IN ("</span><span class="o">.</span><span class="nv">$args</span><span class="o">.</span><span class="s2">") AND
            t2.taxonomy = 'post_tag' AND p2.post_status = 'publish'
            AND p1.ID = p2.ID
            ORDER by posts_with_tag DESC
            "</span><span class="p">);</span>

        <span class="k">return</span> <span class="nv">$tags</span><span class="p">;</span>
    <span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div> <br> <a target="_blank" href="https://twitter.com/intent/tweet?text=http://127.0.0.1:4000/how-to-get-all-the-tags-for-a-wordpress-category/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:4000/how-to-get-all-the-tags-for-a-wordpress-category/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a target="_blank" href="https://plus.google.com/share?url=http://127.0.0.1:4000/how-to-get-all-the-tags-for-a-wordpress-category/" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> </div> <nav class="pagination"> <a href="http://127.0.0.1:4000/delete-wordpress-attachments/" class="pagination_pager" title="Get rid of unused attachments ">previous</a> <a href="http://127.0.0.1:4000/how-to-search-all-your-wordpress-posts-for-certain-characters-strings-or-codes/" class="pagination_pager" title="Search Wordpress Posts ">next</a> </nav> <script src="http://127.0.0.1:4000/assets/js/build/main.js"></script> <script type="text/javascript"src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> <!-- Asynchronous Google Analytics snippet --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-11075253-1', 'auto'); ga('require', 'linkid', 'linkid.js'); ga('send', 'pageview'); </script> <div class="overlay"> <ul class="projects-menu"> <li style="background:url(http://taylantatli.me/Halve/images/halve-home-image.png) center center no-repeat;"> <a href="http://taylantatli.me/Halve" class="inactive" target="_blank" rel="nofollow external"> <span> Halve Jekyll Theme <br><em>in progress</em> </span> </a> </li> <li style="background:url(https://cloud.githubusercontent.com/assets/754514/14509720/61c61058-01d6-11e6-93ab-0918515ecd56.png) center center no-repeat;"> <a href="http://taylantatli.me/Moon" target="_blank" rel="nofollow external"> <span> Moon Jekyll Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Ramme/master/assets/img/screenshot-post.png) center center no-repeat;"> <a href="http://taylantatli.me/Ramme" target="_blank" rel="nofollow external"> <span> Ramme Jekyll Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Daisy-Pelican-Theme/master/Preview-1.png) center center no-repeat;"> <a href="http://taylantatli.me/Daisy-Pelican-Theme/" target="_blank" rel="nofollow external"> <span> Daisy Pelican Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Block-Icon-Theme/master/Preview.png) center center no-repeat;"> <a href="https://github.com/TaylanTatli/Block-Icon-Theme" class="inactive" target="_blank" rel="nofollow external"> <span> Block Icon Theme <br><em>in progress</em> </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/StartPage/master/preview.png) center center no-repeat;"> <a href="http://taylantatli.me/StartPage/" class="inactive" target="_blank" rel="nofollow external"> <span> Start Page <br><em>in progress</em> </span> </a> </li> </ul> </div> </div> </body> </html>
